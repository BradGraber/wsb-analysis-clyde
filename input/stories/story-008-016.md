---
id: story-008-016
epic: epic-008
title: Implement Performance Sub-Tab Content View
priority: medium
story_points: [TBD]
source_requirements: [UI-PERFORMANCE, FR-018]
dependencies: [story-008-002]
blocks: []
---

# Story: Implement Performance Sub-Tab Content View

## Description
Implement the Performance sub-tab content that displays evaluation period data for the active portfolio. Show period dates, portfolio return percentage, S&P 500 return percentage, relative performance, win/loss counts, average return, and signal accuracy. Data is fetched via GET /evaluation-periods?portfolio_id=X and displayed in a structured table or card layout. All metrics are scoped to the currently selected portfolio tab.

## Acceptance Criteria
- [ ] Performance sub-tab displays evaluation periods for the active portfolio, fetched via GET /evaluation-periods?portfolio_id=X
- [ ] Each evaluation period shows: period_start, period_end, portfolio_return_pct, sp500_return_pct, relative_performance (portfolio - S&P), beat_benchmark flag
- [ ] Each period shows position metrics: total_positions_closed, winning_positions, losing_positions, avg_return_pct, signal_accuracy_pct
- [ ] Active (in-progress) period is visually distinguished from completed periods (e.g., "In Progress" badge)
- [ ] When no evaluation periods exist for the portfolio, the empty state from story-008-010 is displayed
- [ ] beat_benchmark is displayed as a green checkmark (true) or red X (false); NULL values show "N/A"
- [ ] Periods are displayed in reverse chronological order (most recent first)

## Technical Notes
- GET /evaluation-periods requires portfolio_id as a mandatory filter (story-007-003)
- S&P 500 comparison data comes from sp500_return_pct calculated in story-009-006
- relative_performance = portfolio_return_pct - sp500_return_pct (pre-computed in API response)
- NULL values for sp500_return_pct / relative_performance / beat_benchmark occur when yfinance data is unavailable (story-009-006)
- Consider a summary card at the top showing aggregate stats across all completed periods
- Layout: responsive table on desktop, card stack on mobile
- PRD reference: UI-PERFORMANCE, FR-018 (benchmark comparison)

## Dependencies
- Depends on: story-008-002 (Performance sub-tab routing and usePortfolios composable)
- Blocks: none
