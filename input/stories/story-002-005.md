---
id: story-002-005
epic: epic-002
title: Implement Author Trust Lookup
priority: high
story_points: [TBD]
source_requirements: [PIPE-010]
dependencies: [story-002-003]
blocks: [story-002-007]
---

# Story: Implement Author Trust Lookup

## Description
Query the authors table for trust scores (0-1 scale) to provide historical reliability context for comment prioritization. Returns the default trust score of 0.5 for authors not found in the database. The trust score is used as a component in the composite priority scoring formula.

## Acceptance Criteria
- [ ] For each comment, query the authors table by Reddit username to retrieve the current trust_score value (0.0-1.0 scale)
- [ ] If the author exists in the authors table, return their stored trust_score value
- [ ] If the author does NOT exist in the authors table, return the default value of 0.5 (configurable via CFG-TRUST-WEIGHTS default_accuracy parameter)
- [ ] The retrieved trust score is set on the ProcessedComment object's author_trust_score field
- [ ] Database queries are efficient: batch lookup for all unique authors in the current run rather than one query per comment

## Technical Notes
- The authors table is populated and updated by epic-009 (Author Trust Tracker); during early pipeline runs, most authors will be unknown and receive the 0.5 default
- The default trust score of 0.5 aligns with CFG-TRUST-WEIGHTS default_accuracy value seeded in epic-001
- Trust scores change slowly over time (updated after each analysis run), so caching per-run is acceptable
- This is a simple lookup, not a trust score calculation (calculation happens in epic-009)
- The author_trust feeds into the priority formula at 30% weight (story-002-007)
- PRD reference: Section 3.2.2 Phase 2 step 1 bullet 2, Appendix F.1

## Dependencies
- Depends on: story-002-003 (comments must be fetched with author names available)
- Blocks: story-002-007 (priority scoring needs author_trust component)
