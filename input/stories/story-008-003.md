---
id: story-008-003
epic: epic-008
title: Implement Signal Cards Layout
priority: high
story_points: [TBD]
source_requirements: [UI-SIGNAL-CARD, UI-SIGNAL-STATES, FR-004, FR-005, FR-006]
dependencies: [story-008-002]
blocks: [story-008-005]
---

# Story: Implement Signal Cards Layout

## Description
Build the signal card component that displays each signal in a structured two-row layout. Row 1 shows ticker, direction arrow, confidence badge, comment count, and signal type pill. Row 2 shows age label, emergence flag, and placeholders for sparklines. Implement the 4 signal card states based on position status. Signals are ordered by composite confidence (FR-004).

## Acceptance Criteria
- [ ] Signal cards display Row 1: ticker symbol, direction arrow (up/down based on bullish/bearish), confidence badge (numeric 0-100), comment count, and signal type pill (blue=Quality, purple=Consensus)
- [ ] Signal cards display Row 2: age label (relative time from signal_date, e.g., "2 hours ago", "3 days ago"), emergence flag (if within emergence period), and sparkline placeholder areas
- [ ] Signals are ordered by composite confidence score descending within the active portfolio view (FR-004)
- [ ] "Position Open" state: card has green left border or accent, shows unrealized return percentage
- [ ] "Position Closed" state: card has gray styling, shows realized return percentage
- [ ] "Below threshold" state: card has gray text styling (signal exists but confidence below threshold)
- [ ] "Not eligible" state: card has gray styling with tooltip explaining ineligibility (e.g., "Bearish signal not supported for long-only portfolio")
- [ ] When no signals exist for the active portfolio, the empty state message from story-008-010 is displayed

## Technical Notes
- Signal card is a reusable Vue component: `<SignalCard :signal="signal" :portfolio-id="portfolioId" />`
- The component receives a signal object with position_summary attached (from GET /signals?portfolio_id=X)
- State determination logic: check position_summary for open/closed positions, then check confidence vs. threshold, then check skip_reason
- Direction arrow: use Bootstrap icons or simple unicode arrows
- Age label: compute client-side from signal_date UTC timestamp
- Emergence flag: compare signal_date to emergence window (7 days), show "Activates in N days" or "Active"
- FR-005: Confidence badge shows the confidence value as the signal strength indicator
- FR-006: Age label provides time context for when the signal emerged

## Dependencies
- Depends on: story-008-002 (signals sub-tab view and useSignals composable)
- Blocks: story-008-005 (sparklines are rendered within signal cards), story-008-006 (evidence modal opens from signal card click)
