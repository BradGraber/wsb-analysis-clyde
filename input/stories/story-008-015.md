---
id: story-008-015
epic: epic-008
title: Implement Prediction Tracking View and HITL Override
priority: high
story_points: [TBD]
source_requirements: [UI-PREDICTIONS]
dependencies: [story-008-006, story-007-009]
blocks: []
---

# Story: Implement Prediction Tracking View and HITL Override

## Description
Build the prediction tracking table view accessible from the evidence drill-down modal. Displays a table of predictions per author showing ticker, option_type, strike, entry_premium, current_premium, status, exit_reason, and is_correct. Includes a HITL override dropdown that allows the user to manually mark predictions as correct, incorrect, or excluded via PATCH /predictions/{id}/override.

## Acceptance Criteria
- [ ] Prediction tracking view is accessible from the evidence drill-down modal (e.g., "View Author Predictions" link/button)
- [ ] Predictions table displays columns: ticker, option_type (Call/Put), strike price, entry_premium, current_premium, status, exit_reason, is_correct (true/false/null with human-readable labels)
- [ ] Table can be filtered by author (pre-populated from the evidence modal context)
- [ ] HITL override dropdown is present on each prediction row with options: "Correct", "Incorrect", "Excluded", and a neutral "No Override" default
- [ ] Selecting an override option calls PATCH /predictions/{id}/override and updates the row display on success
- [ ] Override is idempotent: selecting the same value twice does not produce an error
- [ ] Error feedback is shown inline if the override PATCH request fails (e.g., network error or validation error)

## Technical Notes
- GET /predictions?author=X fetches predictions filtered by author (from story-007-009)
- GET /predictions/{id} provides full detail including prediction_outcomes and prediction_exits history
- PATCH /predictions/{id}/override body: `{override_result: "correct"|"incorrect"|"excluded"}`
- is_correct display mapping: true -> "Correct" (green), false -> "Incorrect" (red), null -> "Pending" or "Excluded" (gray)
- The prediction view could be a nested modal, a slide-out panel, or a navigated sub-view within the evidence modal
- Consider a `usePredictions` composable for data fetching and override mutation
- Current_premium may be null for predictions that have not yet been evaluated; show "N/A" or "--"
- Status values: "tracking", "exited", "expired" -- display as colored badges

## Dependencies
- Depends on: story-008-006 (evidence modal provides the access point), story-007-009 (prediction API endpoints)
- Blocks: none
