---
id: task-006-002-01
story: story-006-002
title: Implement stock stop-loss exit condition function
complexity: 2
---

# Task: Implement stock stop-loss exit condition function

## Description
Implement the private stock stop-loss exit condition function. Given a MonitoredInstrument and a candle, check if the candle's low breaches the position's stop_loss_price. On breach, return an exit event with exit_reason='stop_loss', exit_price=stop_loss_price, and quantity_pct=1.0 (full close). This is the highest-priority stock exit condition (PIPE-044).

## Acceptance Criteria
- [ ] Function checks candle.low <= stop_loss_price
- [ ] On breach, returns exit event: exit_reason='stop_loss', exit_price=stop_loss_price, quantity_pct=1.0
- [ ] Returns None when candle.low > stop_loss_price (no breach)
- [ ] Uses stored stop_loss_price from position record, not recalculated percentage
- [ ] Function accepts MonitoredInstrument (not concrete Position type)

## Technical Notes
- FR-026: Stop-loss at -10% from entry (but uses stored stop_loss_price at runtime)
- PIPE-044: Stop-loss is highest priority in stock cascade
- Simulated fill at trigger level, not candle boundary
- Private function in hybrid exit architecture

## Dependencies
- Depends on: task-006-008-01 (candle iteration calls this function)
- Blocks: task-006-004-01 (breakeven uses same stop-loss mechanism)
