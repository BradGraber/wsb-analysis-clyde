---
id: task-008-013-02
story: story-008-013
title: Write HITL override round-trip regression test
complexity: 1
---

# Task: Write HITL override round-trip regression test

## Description
Write regression test #11: HITL override round-trip that verifies PATCH /predictions/{id}/override followed by GET /predictions/{id} reflects the change correctly. Test 3 scenarios: override with "correct" -> is_correct=true, override with "incorrect" -> is_correct=false, override with "excluded" -> is_correct=null. Verify idempotency (same override twice produces no error).

## Acceptance Criteria
- [ ] PATCH with "correct" -> GET shows is_correct=true
- [ ] PATCH with "incorrect" -> GET shows is_correct=false
- [ ] PATCH with "excluded" -> GET shows is_correct=null
- [ ] Repeated same PATCH is idempotent (no error on second call)
- [ ] Test uses seed data or fixtures, runnable via `pytest`

## Technical Notes
- Exercises the full round-trip: write -> read -> verify consistency
- PATCH /predictions/{id}/override body: `{override_result: "correct"|"incorrect"|"excluded"}`
- Test against the REST API (integration test)
- This is regression test #11 in the test numbering scheme

## Dependencies
- Depends on: task-008-013-01 (VCR.py infrastructure for API mocking)
- Blocks: none
