---
id: task-002-008-01
story: story-002-008
title: Define ProcessedPost, ProcessedComment, and ParentChainEntry data models
complexity: 1
---

# Task: Define ProcessedPost, ProcessedComment, and ParentChainEntry data models

## Description
Create a `src/models/reddit_models.py` module (or add to existing models module) defining three data classes matching PRD Appendix D exactly: ProcessedComment (11 fields), ProcessedPost (8 fields), and ParentChainEntry (4 fields). These are in-memory data transfer objects used throughout the Reddit pipeline (epic-002) and into AI analysis (epic-003).

## Acceptance Criteria
- [ ] ProcessedComment dataclass with 11 fields: reddit_id (str), post_id (int), author (str), body (str), score (int), depth (int), created_utc (int), priority_score (float, default 0.0), financial_score (float, default 0.0), author_trust_score (float, default 0.0), parent_chain (list[ParentChainEntry], default empty)
- [ ] ProcessedPost dataclass with 8 fields: reddit_id (str), title (str), selftext (str), upvotes (int), total_comments (int), image_url (Optional[str], default None), image_analysis (Optional[str], default None), comments (list[ProcessedComment], default empty)
- [ ] ParentChainEntry dataclass with 4 fields: id (str), body (str), depth (int), author (str)
- [ ] All three use Python dataclasses or Pydantic BaseModel (consistent with epic-001 approach)
- [ ] ParentChainEntry has a to_dict() method or is serializable to JSON for database storage
- [ ] Unit test: construct each model with all fields and verify attribute access

## Technical Notes
- These models are consumed by virtually every task in epic-002 and feed into epic-003
- Defined early (this task should be implemented first in epic-002) since other tasks import them
- If using dataclasses, use field(default_factory=list) for mutable defaults
- If using Pydantic, these are plain models (not ORM models)
- PRD reference: Appendix D.1, D.2, D.3

## Dependencies
- Depends on: none
- Blocks: task-002-001-02, task-002-003-01, task-002-003-02, task-002-008-02
