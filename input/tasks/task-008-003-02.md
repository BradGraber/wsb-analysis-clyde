---
id: task-008-003-02
story: story-008-003
title: Implement 4 signal card states based on position status
complexity: 2
---

# Task: Implement 4 signal card states based on position status

## Description
Add state-based visual styling to the SignalCard component. Determine state from the signal's position_summary: "Position Open" (green accent + unrealized return %), "Position Closed" (gray + realized return %), "Below threshold" (gray text for below-confidence signals), and "Not eligible" (gray + tooltip explaining ineligibility). When no signals exist, render the empty state component.

## Acceptance Criteria
- [ ] "Position Open" state: green left border or accent, displays unrealized_return_pct
- [ ] "Position Closed" state: gray styling, displays realized_return_pct
- [ ] "Below threshold" state: gray text styling for signals below confidence threshold
- [ ] "Not eligible" state: gray styling with tooltip (e.g., "Bearish signal not supported for long-only portfolio")
- [ ] State determination logic correctly checks position_summary, then confidence vs threshold, then skip_reason
- [ ] When signal list is empty, the empty state from task-008-010-03 is displayed

## Technical Notes
- State priority: check position_summary first (open/closed), then confidence vs threshold, then skip_reason for eligibility
- Tooltip: use bootstrap-vue-next `<b-tooltip>` component for "Not eligible" reason
- Return percentages: use unrealized_return_pct (open) or realized_return_pct (closed) from API response
- Color scheme: green for open positions, gray for everything else, with contextual return % coloring (green positive, red negative)

## Dependencies
- Depends on: task-008-003-01 (base SignalCard component)
- Blocks: task-008-012-01 (tests validate position state rendering)
