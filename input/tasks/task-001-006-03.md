---
id: task-001-006-03
story: story-001-006
epic: epic-001
title: Verify Schwab API with stock quote and options chain fetch, document findings
complexity: 2
---

# Task: Verify Schwab API with stock quote and options chain fetch, document findings

## Description
Add `get_quote(ticker)` and `get_options_chain(ticker, dte_min, dte_max)` methods to SchwabClient and create a verification script that fetches a stock quote (e.g., AAPL) and an options chain (e.g., AAPL with 14-21 DTE filter). Document spike findings: API quirks, rate limits observed, response format notes, token lifecycle behavior, and any blockers.

## Acceptance Criteria
- [ ] SchwabClient.get_quote(ticker) fetches and returns a stock quote from Schwab API
- [ ] SchwabClient.get_options_chain(ticker, dte_min, dte_max) fetches and returns an options chain
- [ ] Verification script (e.g., `scripts/schwab_verify.py`) successfully fetches AAPL quote and options chain
- [ ] Spike findings documented in `docs/spike-schwab-oauth.md` covering: API quirks, rate limits, response format, token lifecycle, any blockers
- [ ] If Schwab developer app not approved, document blocker with specific next steps and estimated timeline

## Technical Notes
- Schwab quote endpoint: GET /marketdata/v1/quotes with symbol parameter
- Schwab options chain endpoint: GET /marketdata/v1/chains with symbol and DTE filter params
- Time-box this entire story (001-006) to 2-3 days total across all 3 tasks
- Response format documentation is critical for epic-005 and epic-006 which parse these responses
- Note any differences between documented API and actual behavior
- If blocked on Schwab approval, document what was learned from documentation review

## Files to Create/Modify
- `src/schwab_client.py` (add get_quote and get_options_chain methods)
- `scripts/schwab_verify.py` (new verification script)
- `docs/spike-schwab-oauth.md` (new findings document)
